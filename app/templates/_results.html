<div id="results" class="space-y-3">
  {% if count == 0 %}
    <div class="p-4 rounded border bg-gray-50">
      No matching restaurants. Try widening your radius or removing filters.
    </div>
  {% else %}
    {% for r in results %}
      <div class="p-3 rounded border hover:shadow-sm transition flex items-start justify-between gap-3">
        <div>
          <div class="font-semibold">{{ r.name }}</div>
          <div class="text-sm opacity-75">
            {{ r.distance_km }} km |
            {% if r.price == 1 %}$ {% elif r.price == 2 %}$$ {% elif r.price == 3 %}$$$ {% else %}-{% endif %}
            | {{ r.busy }}
            {% if r.halal %} | Halal{% endif %}
          </div>
        </div>
        <!-- Optional: check-in button, remove if needed -->
        <form
          hx-post="/checkin"
          hx-vals='{"restaurant_id":"{{ r.id }}"}'
          hx-swap="none">
          <button type="submit" class="px-2 py-1 bg-sky-600 text-white rounded text-sm">
            Iâ€™m here
          </button>
        </form>
      </div>
    {% endfor %}
  {% endif %}
</div>

<script type="application/json" id="markers-json">{{ results | tojson }}</script>
